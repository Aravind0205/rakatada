'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var middleware = require('../middleware/middleware.js');

/**
 * Server-only APIs available via `next-intl/server`.
 */

let hasWarnedForMiddlewareImport = false;
/** @deprecated Should be imported as `import createMiddleware from 'next-intl/middleware', not from `next-intl/server`. */
function createIntlMiddleware(config) {
  if (!hasWarnedForMiddlewareImport) {
    hasWarnedForMiddlewareImport = true;
    console.warn("\nImporting `createMiddleware` from `next-intl/server` is deprecated. Please update the import and add a `matcher`:\n\n  // middleware.ts\n  import createMiddleware from 'next-intl/middleware';\n\n  // ...\n\n  export const config = {\n    // Skip all paths that should not be internationalized\n    matcher: ['/((?!api|_next|.*\\\\..*).*)']\n  };\n");
  }
  return middleware.default({
    ...config,
    // @ts-expect-error
    _matcher: ['/((?!api|_next|.*\\..*).*)']
  });
}

exports.createIntlMiddleware = createIntlMiddleware;
