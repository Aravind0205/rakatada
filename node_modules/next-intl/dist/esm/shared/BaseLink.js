'use client';
import{extends as e}from"../_virtual/_rollupPluginBabelHelpers.js";import r from"next/link";import{usePathname as t}from"next/navigation";import o,{forwardRef as l,useState as n,useEffect as i}from"react";import p from"../react-client/useLocale.js";import{isLocalHref as c,prefixHref as a,localizeHref as s}from"./utils.js";function f(l,f){let{href:m,locale:u,prefetch:h,...d}=l;const v=t(),x=p(),g=u!==x,[j,k]=n((()=>c(m)&&u?a(m,u):m));return i((()=>{v&&k(s(m,u,x,null!=v?v:void 0))}),[x,m,u,v]),g&&(h&&console.error("The `prefetch` prop is currently not supported when using the `locale` prop on `Link` to switch the locale.`"),h=!1),o.createElement(r,e({ref:f,href:j,prefetch:h},d))}var m=l(f);export{m as default};
