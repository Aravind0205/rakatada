import{matchesPathname as n,templateToRegex as e}from"../shared/utils.js";function t(n){return n.split("/")[1]}function o(e,t){for(const[o,c]of Object.entries(e))if("string"==typeof c){if(n(c,t))return[void 0,o]}else for(const[e,l]of Object.entries(c))if(n(l,t))return[e,o];return[void 0,void 0]}function c(n,e,t,o){const c=u(e,n);let l="";return o&&(l="/".concat(o)),l+=s(t,c),l.endsWith("/")&&(l=l.slice(0,-1)),l}function l(n,e){n.endsWith("/")||(n+="/");const t=n.match("^/(".concat(e.join("|"),")(.*)"));let o=t?t[2]:n;return o.endsWith("/")&&"/"!==o&&(o=o.slice(0,-1)),o}function r(n,e){const o=t(n);return e.includes(o)?o:void 0}function i(n,e){return n.replace("/".concat(e),"")||"/"}function u(n,t){const o=e(n).exec(t);if(!o)return;const c={};for(let e=1;e<o.length;e++){var l;const t=null===(l=n.match(/\[([^\]]+)\]/g))||void 0===l?void 0:l[e-1].replace(/[[\]]/g,"");t&&(c[t]=o[e])}return c}function s(n,e){if(!e)return n;let t=n=n.replaceAll("[[","[").replaceAll("]]","]");return Object.entries(e).forEach((n=>{let[e,o]=n;t=t.replace("[".concat(e,"]"),o)})),t}function f(n,e){let t=n;return e&&(t+=e),t}function a(n){var e,t;return null!==(e=null!==(t=n.get("x-forwarded-host"))&&void 0!==t?t:n.get("host"))&&void 0!==e?e:void 0}function d(n,e){return e.defaultLocale===n||!e.locales||e.locales.includes(n)}function v(n,e,t){let o;return n&&d(e,n)&&(o=n),o||(o=t.find((n=>n.defaultLocale===e))),o||(o=t.find((n=>null!=n.locales&&n.locales.includes(e)))),o||null!=(null==n?void 0:n.locales)||(o=n),o||(o=t.find((n=>!n.locales))),o}export{s as formatPathname,c as formatTemplatePathname,i as getBasePath,v as getBestMatchingDomain,a as getHost,o as getInternalTemplate,r as getKnownLocaleFromPathname,t as getLocaleFromPathname,l as getNormalizedPathname,f as getPathWithSearch,u as getRouteParams,d as isLocaleSupportedOnDomain};
